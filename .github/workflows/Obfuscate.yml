Name: Build Obfuscate BPB Panel



On:

  Push:

Branches:

-	Main

  Schedule:

-	Cron: “0 1 * * *”



Permissions:

  Contents: write



Jobs:

  Build:

Runs-on: ubuntu-latest



Steps:

-	Name: Check out the code

        Uses: actions/checkout@v4



-	Name: Set up Node.js

        Uses: actions/setup-node@v4

        With:

          Node-version: “latest”



-	Name: Install dependencies

        Run: |

          Npm install -g javascript-obfuscator



-	Name: Clone BPB workjs

        Run: |

          Wget -O origin.js https://raw.githubusercontent.com/bia-pain-bache/BPB-Worker-Panel/refs/heads/main/build/unobfuscated-worker.js



-	Name: Obfuscate BPB worker js

        Run: |

          Javascript-obfuscator origin.js –output _worker.js \

          --compact true \

          --identifier-names-generator hexadecimal \

          --rename-globals true \

          --string-array true \

          --string-array-encoding ‘base64’ \

          --string-array-threshold 0.75 \

          --transform-object-keys true \

          --self-defending false \

          --simplify true



-	Name: Commit changes

        Uses: stefanzweifel/git-auto-commit-action@v5

        With:

          Branch: main

          Commit_message: ‘:arrow_up: update latest bpb panel’

          Commit_author: ‘github-actions[bot] <github-actions[bot]@users.noreply.github.com>’

          Push_options: ‘—set-upstream’

